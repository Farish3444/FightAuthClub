{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _routes = require(\"./routes\");\nvar _db = require(\"./db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nvar PORT = process.env.PORT || 8000;\nvar app = (0, _express[\"default\"])();\n\n// This allows us to access the body of POST/PUT\n// requests in our route handlers (as req.body)\napp.use(_express[\"default\"].json());\napp.use(function (req, res, next) {\n  res.setHeader('Access-Control-Allow-Origin', 'http://localhost:3000');\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE');\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  next();\n});\n\n// Add all the routes to our Express server\n// exported from routes/index.js\n_routes.routes.forEach(function (route) {\n  app[route.method](route.path, route.handler);\n});\n\n// Connect to the database, then start the server.\n// This prevents us from having to create a new DB\n// connection for every request.\n(0, _db.initializeDbConnection)().then(function () {\n  app.listen(PORT, function () {\n    console.log(\"Server is listening on port \".concat(PORT));\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3JvdXRlcyIsIl9kYiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJQT1JUIiwicHJvY2VzcyIsImVudiIsImFwcCIsImV4cHJlc3MiLCJ1c2UiLCJqc29uIiwicmVxIiwicmVzIiwibmV4dCIsInNldEhlYWRlciIsInJvdXRlcyIsImZvckVhY2giLCJyb3V0ZSIsIm1ldGhvZCIsInBhdGgiLCJoYW5kbGVyIiwiaW5pdGlhbGl6ZURiQ29ubmVjdGlvbiIsInRoZW4iLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFwiLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IHJvdXRlcyB9IGZyb20gJy4vcm91dGVzJztcbmltcG9ydCB7IGluaXRpYWxpemVEYkNvbm5lY3Rpb24gfSBmcm9tICcuL2RiJztcblxuY29uc3QgUE9SVCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODAwMDtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBUaGlzIGFsbG93cyB1cyB0byBhY2Nlc3MgdGhlIGJvZHkgb2YgUE9TVC9QVVRcbi8vIHJlcXVlc3RzIGluIG91ciByb3V0ZSBoYW5kbGVycyAoYXMgcmVxLmJvZHkpXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuIGFwcC51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKTtcbiAgICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFJyk7XG4gICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlLCBBdXRob3JpemF0aW9uJyk7XG4gICAgIG5leHQoKTtcbiAgIH0pO1xuXG4vLyBBZGQgYWxsIHRoZSByb3V0ZXMgdG8gb3VyIEV4cHJlc3Mgc2VydmVyXG4vLyBleHBvcnRlZCBmcm9tIHJvdXRlcy9pbmRleC5qc1xucm91dGVzLmZvckVhY2gocm91dGUgPT4ge1xuICAgIGFwcFtyb3V0ZS5tZXRob2RdKHJvdXRlLnBhdGgsIHJvdXRlLmhhbmRsZXIpO1xufSk7XG5cbi8vIENvbm5lY3QgdG8gdGhlIGRhdGFiYXNlLCB0aGVuIHN0YXJ0IHRoZSBzZXJ2ZXIuXG4vLyBUaGlzIHByZXZlbnRzIHVzIGZyb20gaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBEQlxuLy8gY29ubmVjdGlvbiBmb3IgZXZlcnkgcmVxdWVzdC5cbmluaXRpYWxpemVEYkNvbm5lY3Rpb24oKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgYXBwLmxpc3RlbihQT1JULCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VydmVyIGlzIGxpc3RlbmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcbiAgICAgICAgfSk7XG4gICAgfSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUYsT0FBQTtBQUE4QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLGdCQUFBQSxHQUFBO0FBRTlDLElBQU1FLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksSUFBSSxJQUFJO0FBRXJDLElBQU1HLEdBQUcsR0FBRyxJQUFBQyxtQkFBTyxFQUFDLENBQUM7O0FBRXJCO0FBQ0E7QUFDQUQsR0FBRyxDQUFDRSxHQUFHLENBQUNELG1CQUFPLENBQUNFLElBQUksQ0FBQyxDQUFDLENBQUM7QUFFdEJILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLFVBQUNFLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUs7RUFDeEJELEdBQUcsQ0FBQ0UsU0FBUyxDQUFDLDZCQUE2QixFQUFFLHVCQUF1QixDQUFDO0VBQ3JFRixHQUFHLENBQUNFLFNBQVMsQ0FBQyw4QkFBOEIsRUFBRSx3QkFBd0IsQ0FBQztFQUN2RUYsR0FBRyxDQUFDRSxTQUFTLENBQUMsOEJBQThCLEVBQUUsNkJBQTZCLENBQUM7RUFDNUVELElBQUksQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxDQUFDOztBQUVMO0FBQ0E7QUFDQUUsY0FBTSxDQUFDQyxPQUFPLENBQUMsVUFBQUMsS0FBSyxFQUFJO0VBQ3BCVixHQUFHLENBQUNVLEtBQUssQ0FBQ0MsTUFBTSxDQUFDLENBQUNELEtBQUssQ0FBQ0UsSUFBSSxFQUFFRixLQUFLLENBQUNHLE9BQU8sQ0FBQztBQUNoRCxDQUFDLENBQUM7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsSUFBQUMsMEJBQXNCLEVBQUMsQ0FBQyxDQUNuQkMsSUFBSSxDQUFDLFlBQU07RUFDUmYsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDbkIsSUFBSSxFQUFFLFlBQU07SUFDbkJvQixPQUFPLENBQUNDLEdBQUcsZ0NBQUFDLE1BQUEsQ0FBZ0N0QixJQUFJLENBQUUsQ0FBQztFQUN0RCxDQUFDLENBQUM7QUFDTixDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_routes","_db","obj","__esModule","PORT","process","env","app","express","use","json","req","res","next","setHeader","routes","forEach","route","method","path","handler","initializeDbConnection","then","listen","console","log","concat"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\","sources":["server.js"],"sourcesContent":["import express from 'express';\nimport { routes } from './routes';\nimport { initializeDbConnection } from './db';\n\nconst PORT = process.env.PORT || 8000;\n\nconst app = express();\n\n// This allows us to access the body of POST/PUT\n// requests in our route handlers (as req.body)\napp.use(express.json());\n\n app.use((req, res, next) => {\n     res.setHeader('Access-Control-Allow-Origin', 'http://localhost:3000');\n     res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE');\n     res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n     next();\n   });\n\n// Add all the routes to our Express server\n// exported from routes/index.js\nroutes.forEach(route => {\n    app[route.method](route.path, route.handler);\n});\n\n// Connect to the database, then start the server.\n// This prevents us from having to create a new DB\n// connection for every request.\ninitializeDbConnection()\n    .then(() => {\n        app.listen(PORT, () => {\n            console.log(`Server is listening on port ${PORT}`);\n        });\n    });"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AACA,IAAAE,GAAA,GAAAF,OAAA;AAA8C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAE9C,IAAME,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACF,IAAI,IAAI,IAAI;AAErC,IAAMG,GAAG,GAAG,IAAAC,mBAAO,EAAC,CAAC;;AAErB;AACA;AACAD,GAAG,CAACE,GAAG,CAACD,mBAAO,CAACE,IAAI,CAAC,CAAC,CAAC;AAEtBH,GAAG,CAACE,GAAG,CAAC,UAACE,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;EACxBD,GAAG,CAACE,SAAS,CAAC,6BAA6B,EAAE,uBAAuB,CAAC;EACrEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,wBAAwB,CAAC;EACvEF,GAAG,CAACE,SAAS,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;EAC5ED,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;;AAEL;AACA;AACAE,cAAM,CAACC,OAAO,CAAC,UAAAC,KAAK,EAAI;EACpBV,GAAG,CAACU,KAAK,CAACC,MAAM,CAAC,CAACD,KAAK,CAACE,IAAI,EAAEF,KAAK,CAACG,OAAO,CAAC;AAChD,CAAC,CAAC;;AAEF;AACA;AACA;AACA,IAAAC,0BAAsB,EAAC,CAAC,CACnBC,IAAI,CAAC,YAAM;EACRf,GAAG,CAACgB,MAAM,CAACnB,IAAI,EAAE,YAAM;IACnBoB,OAAO,CAACC,GAAG,gCAAAC,MAAA,CAAgCtB,IAAI,CAAE,CAAC;EACtD,CAAC,CAAC;AACN,CAAC,CAAC"}},"mtime":1690756965720},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.routes = void 0;\nvar _logInRoute = require(\"./logInRoute\");\nvar _signUpRoute = require(\"./signUpRoute\");\nvar _testRoute = require(\"./testRoute\");\nvar _updateUserInfoRoute = require(\"./updateUserInfoRoute\");\nvar routes = [_logInRoute.logInRoute, _signUpRoute.signUpRoute, _testRoute.testRoute, _updateUserInfoRoute.updateUserInfoRoute];\nexports.routes = routes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nSW5Sb3V0ZSIsInJlcXVpcmUiLCJfc2lnblVwUm91dGUiLCJfdGVzdFJvdXRlIiwiX3VwZGF0ZVVzZXJJbmZvUm91dGUiLCJyb3V0ZXMiLCJsb2dJblJvdXRlIiwic2lnblVwUm91dGUiLCJ0ZXN0Um91dGUiLCJ1cGRhdGVVc2VySW5mb1JvdXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENPREVJVFxcYXV0aGZpbmlzaGluZ1xcYmFjay1lbmRcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0luUm91dGUgfSBmcm9tICcuL2xvZ0luUm91dGUnO1xuaW1wb3J0IHsgc2lnblVwUm91dGUgfSBmcm9tICcuL3NpZ25VcFJvdXRlJztcbmltcG9ydCB7IHRlc3RSb3V0ZSB9IGZyb20gJy4vdGVzdFJvdXRlJztcbmltcG9ydCB7IHVwZGF0ZVVzZXJJbmZvUm91dGUgfSBmcm9tICcuL3VwZGF0ZVVzZXJJbmZvUm91dGUnO1xuXG5leHBvcnQgY29uc3Qgcm91dGVzID0gW1xuICAgIGxvZ0luUm91dGUsXG4gICAgc2lnblVwUm91dGUsXG4gICAgdGVzdFJvdXRlLFxuICAgIHVwZGF0ZVVzZXJJbmZvUm91dGUsXG5dO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxXQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxvQkFBQSxHQUFBSCxPQUFBO0FBRU8sSUFBTUksTUFBTSxHQUFHLENBQ2xCQyxzQkFBVSxFQUNWQyx3QkFBVyxFQUNYQyxvQkFBUyxFQUNUQyx3Q0FBbUIsQ0FDdEI7QUFBQ0MsT0FBQSxDQUFBTCxNQUFBLEdBQUFBLE1BQUEifQ==","map":{"version":3,"names":["_logInRoute","require","_signUpRoute","_testRoute","_updateUserInfoRoute","routes","logInRoute","signUpRoute","testRoute","updateUserInfoRoute","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["index.js"],"sourcesContent":["import { logInRoute } from './logInRoute';\nimport { signUpRoute } from './signUpRoute';\nimport { testRoute } from './testRoute';\nimport { updateUserInfoRoute } from './updateUserInfoRoute';\n\nexport const routes = [\n    logInRoute,\n    signUpRoute,\n    testRoute,\n    updateUserInfoRoute,\n];\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,oBAAA,GAAAH,OAAA;AAEO,IAAMI,MAAM,GAAG,CAClBC,sBAAU,EACVC,wBAAW,EACXC,oBAAS,EACTC,wCAAmB,CACtB;AAACC,OAAA,CAAAL,MAAA,GAAAA,MAAA"}},"mtime":1690435862449},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\logInRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logInRoute = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar logInRoute = {\n  path: '/api/login',\n  method: 'post',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n      var _req$body, email, password, db, user, id, isVerified, passwordHash, info, isCorrect;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              db = (0, _db.getDbConnection)();\n              _context.next = 4;\n              return db.collection('users').findOne({\n                email: email\n              });\n            case 4:\n              user = _context.sent;\n              if (user) {\n                _context.next = 7;\n                break;\n              }\n              return _context.abrupt(\"return\", res.sendStatus(401));\n            case 7:\n              id = user._id, isVerified = user.isVerified, passwordHash = user.passwordHash, info = user.info;\n              _context.next = 10;\n              return _bcrypt[\"default\"].compare(password, passwordHash);\n            case 10:\n              isCorrect = _context.sent;\n              if (isCorrect) {\n                _jsonwebtoken[\"default\"].sign({\n                  id: id,\n                  isVerified: isVerified,\n                  email: email,\n                  info: info\n                }, process.env.JWT_SECRET, {\n                  expiresIn: '2d'\n                }, function (err, token) {\n                  if (err) {\n                    res.status(500).json(err);\n                  }\n                  res.status(200).json({\n                    token: token\n                  });\n                });\n              } else {\n                res.sendStatus(401);\n              }\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.logInRoute = logInRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX2RiIiwib2JqIiwiX19lc01vZHVsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJsb2dJblJvdXRlIiwicGF0aCIsIm1ldGhvZCIsImhhbmRsZXIiLCJfaGFuZGxlciIsInJlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwiX3JlcSRib2R5IiwiZW1haWwiLCJwYXNzd29yZCIsImRiIiwidXNlciIsImlkIiwiaXNWZXJpZmllZCIsInBhc3N3b3JkSGFzaCIsImlzQ29ycmVjdCIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiZ2V0RGJDb25uZWN0aW9uIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJzZW50IiwiYWJydXB0Iiwic2VuZFN0YXR1cyIsIl9pZCIsImJjcnlwdCIsImNvbXBhcmUiLCJqd3QiLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJ0b2tlbiIsInN0YXR1cyIsImpzb24iLCJzdG9wIiwiX3giLCJfeDIiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsibG9nSW5Sb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBnZXREYkNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYic7XG5cbmV4cG9ydCBjb25zdCBsb2dJblJvdXRlID0ge1xuICAgIHBhdGg6ICcvYXBpL2xvZ2luJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoYW5kbGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAgIGNvbnN0IGRiID0gZ2V0RGJDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IGVtYWlsIH0pO1xuXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XG5cbiAgICAgICAgY29uc3QgeyBfaWQ6IGlkLCBpc1ZlcmlmaWVkLCBwYXNzd29yZEhhc2gsIGluZm8gfSA9IHVzZXI7XG5cbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHBhc3N3b3JkSGFzaCk7XG5cbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgand0LnNpZ24oeyBpZCwgaXNWZXJpZmllZCwgZW1haWwsIGluZm8gfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICcyZCcgfSwgKGVyciwgdG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAxKTtcbiAgICAg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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_jsonwebtoken","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","logInRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee","req","res","_req$body","email","password","db","user","id","isVerified","passwordHash","isCorrect","wrap","_callee$","_context","prev","next","body","getDbConnection","collection","findOne","sent","abrupt","sendStatus","_id","bcrypt","compare","jwt","sign","process","env","JWT_SECRET","expiresIn","token","status","json","stop","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["logInRoute.js"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport { getDbConnection } from '../db';\n\nexport const logInRoute = {\n    path: '/api/login',\n    method: 'post',\n    handler: async (req, res) => {\n        const { email, password } = req.body;\n\n        const db = getDbConnection();\n\n        const user = await db.collection('users').findOne({ email });\n\n        if (!user) return res.sendStatus(401);\n\n        const { _id: id, isVerified, passwordHash, info } = user;\n\n        const isCorrect = await bcrypt.compare(password, passwordHash);\n\n        if (isCorrect) {\n            jwt.sign({ id, isVerified, email, info }, process.env.JWT_SECRET, { expiresIn: '2d' }, (err, token) => {\n                if (err) {\n                    res.status(500).json(err);\n                }\n\n                res.status(200).json({ token });\n            });\n        } else {\n            res.sendStatus(401);\n        }\n    },\n}"],"mappings":"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"}},"mtime":1690744657966},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbConnection = exports.initializeDbConnection = void 0;\nvar _mongodb = require(\"mongodb\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar client;\nvar initializeDbConnection = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _mongodb.MongoClient.connect('mongodb://127.0.0.1:27017/auth-finish'\n            //  'mongodb://localhost:27017/auth-finish'\n            , {\n              useNewUrlParser: true,\n              useUnifiedTopology: true\n            });\n          case 2:\n            client = _context.sent;\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function initializeDbConnection() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.initializeDbConnection = initializeDbConnection;\nvar getDbConnection = function getDbConnection() {\n  var db = client.db('auth-finish');\n  return db;\n};\nexports.getDbConnection = getDbConnection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZm4iLCJzZWxmIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiY2xpZW50IiwiaW5pdGlhbGl6ZURiQ29ubmVjdGlvbiIsIl9yZWYiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJNb25nb0NsaWVudCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJzZW50Iiwic3RvcCIsImV4cG9ydHMiLCJnZXREYkNvbm5lY3Rpb24iLCJkYiJdLCJzb3VyY2VSb290IjoiRDpcXENPREVJVFxcYXV0aGZpbmlzaGluZ1xcYmFjay1lbmRcXHNyY1xcIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xuXG5sZXQgY2xpZW50O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZURiQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjbGllbnQgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KFxuICAgICAgICAnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9hdXRoLWZpbmlzaCdcbiAgICAgICAgLy8gICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2F1dGgtZmluaXNoJ1xuICAgICAgICAse1xuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldERiQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignYXV0aC1maW5pc2gnKTtcbiAgICByZXR1cm4gZGI7XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFBc0MsU0FBQUMsbUJBQUFDLEdBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUEsRUFBQUMsTUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUEsY0FBQUMsSUFBQSxHQUFBUCxHQUFBLENBQUFLLEdBQUEsRUFBQUMsR0FBQSxPQUFBRSxLQUFBLEdBQUFELElBQUEsQ0FBQUMsS0FBQSxXQUFBQyxLQUFBLElBQUFQLE1BQUEsQ0FBQU8sS0FBQSxpQkFBQUYsSUFBQSxDQUFBRyxJQUFBLElBQUFULE9BQUEsQ0FBQU8sS0FBQSxZQUFBRyxPQUFBLENBQUFWLE9BQUEsQ0FBQU8sS0FBQSxFQUFBSSxJQUFBLENBQUFULEtBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFTLGtCQUFBQyxFQUFBLDZCQUFBQyxJQUFBLFNBQUFDLElBQUEsR0FBQUMsU0FBQSxhQUFBTixPQUFBLFdBQUFWLE9BQUEsRUFBQUMsTUFBQSxRQUFBRixHQUFBLEdBQUFjLEVBQUEsQ0FBQUksS0FBQSxDQUFBSCxJQUFBLEVBQUFDLElBQUEsWUFBQWIsTUFBQUssS0FBQSxJQUFBVCxrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsVUFBQUksS0FBQSxjQUFBSixPQUFBZSxHQUFBLElBQUFwQixrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsV0FBQWUsR0FBQSxLQUFBaEIsS0FBQSxDQUFBaUIsU0FBQTtBQUV0QyxJQUFJQyxNQUFNO0FBRUgsSUFBTUMsc0JBQXNCO0VBQUEsSUFBQUMsSUFBQSxHQUFBVixpQkFBQSxlQUFBVyxrQkFBQSxDQUFBQyxJQUFBLENBQUcsU0FBQUMsUUFBQTtJQUFBLE9BQUFGLGtCQUFBLENBQUFHLElBQUEsVUFBQUMsU0FBQUMsUUFBQTtNQUFBO1FBQUEsUUFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtVQUFBO1lBQUFGLFFBQUEsQ0FBQUUsSUFBQTtZQUFBLE9BQ25CQyxvQkFBVyxDQUFDQyxPQUFPLENBQzlCO1lBQ0E7WUFBQSxFQUNDO2NBQ0RDLGVBQWUsRUFBRSxJQUFJO2NBQ3JCQyxrQkFBa0IsRUFBRTtZQUN4QixDQUFDLENBQUM7VUFBQTtZQU5GZCxNQUFNLEdBQUFRLFFBQUEsQ0FBQU8sSUFBQTtVQUFBO1VBQUE7WUFBQSxPQUFBUCxRQUFBLENBQUFRLElBQUE7UUFBQTtNQUFBO0lBQUEsR0FBQVgsT0FBQTtFQUFBLENBT1Q7RUFBQSxnQkFSWUosc0JBQXNCQSxDQUFBO0lBQUEsT0FBQUMsSUFBQSxDQUFBTCxLQUFBLE9BQUFELFNBQUE7RUFBQTtBQUFBLEdBUWxDO0FBQUFxQixPQUFBLENBQUFoQixzQkFBQSxHQUFBQSxzQkFBQTtBQUVNLElBQU1pQixlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUEsRUFBUztFQUNqQyxJQUFNQyxFQUFFLEdBQUduQixNQUFNLENBQUNtQixFQUFFLENBQUMsYUFBYSxDQUFDO0VBQ25DLE9BQU9BLEVBQUU7QUFDYixDQUFDO0FBQUFGLE9BQUEsQ0FBQUMsZUFBQSxHQUFBQSxlQUFBIn0=","map":{"version":3,"names":["_mongodb","require","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","client","initializeDbConnection","_ref","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","MongoClient","connect","useNewUrlParser","useUnifiedTopology","sent","stop","exports","getDbConnection","db"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\","sources":["db.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nlet client;\n\nexport const initializeDbConnection = async () => {\n    client = await MongoClient.connect(\n        'mongodb://127.0.0.1:27017/auth-finish'\n        //  'mongodb://localhost:27017/auth-finish'\n        ,{\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n    });\n}\n\nexport const getDbConnection = () => {\n    const db = client.db('auth-finish');\n    return db;\n}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAAsC,SAAAC,mBAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,GAAA,EAAAC,GAAA,cAAAC,IAAA,GAAAP,GAAA,CAAAK,GAAA,EAAAC,GAAA,OAAAE,KAAA,GAAAD,IAAA,CAAAC,KAAA,WAAAC,KAAA,IAAAP,MAAA,CAAAO,KAAA,iBAAAF,IAAA,CAAAG,IAAA,IAAAT,OAAA,CAAAO,KAAA,YAAAG,OAAA,CAAAV,OAAA,CAAAO,KAAA,EAAAI,IAAA,CAAAT,KAAA,EAAAC,MAAA;AAAA,SAAAS,kBAAAC,EAAA,6BAAAC,IAAA,SAAAC,IAAA,GAAAC,SAAA,aAAAN,OAAA,WAAAV,OAAA,EAAAC,MAAA,QAAAF,GAAA,GAAAc,EAAA,CAAAI,KAAA,CAAAH,IAAA,EAAAC,IAAA,YAAAb,MAAAK,KAAA,IAAAT,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,UAAAI,KAAA,cAAAJ,OAAAe,GAAA,IAAApB,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,WAAAe,GAAA,KAAAhB,KAAA,CAAAiB,SAAA;AAEtC,IAAIC,MAAM;AAEH,IAAMC,sBAAsB;EAAA,IAAAC,IAAA,GAAAV,iBAAA,eAAAW,kBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACnBC,oBAAW,CAACC,OAAO,CAC9B;YACA;YAAA,EACC;cACDC,eAAe,EAAE,IAAI;cACrBC,kBAAkB,EAAE;YACxB,CAAC,CAAC;UAAA;YANFd,MAAM,GAAAQ,QAAA,CAAAO,IAAA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAQ,IAAA;QAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAOT;EAAA,gBARYJ,sBAAsBA,CAAA;IAAA,OAAAC,IAAA,CAAAL,KAAA,OAAAD,SAAA;EAAA;AAAA,GAQlC;AAAAqB,OAAA,CAAAhB,sBAAA,GAAAA,sBAAA;AAEM,IAAMiB,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;EACjC,IAAMC,EAAE,GAAGnB,MAAM,CAACmB,EAAE,CAAC,aAAa,CAAC;EACnC,OAAOA,EAAE;AACb,CAAC;AAAAF,OAAA,CAAAC,eAAA,GAAAA,eAAA"}},"mtime":1690744631151},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\signUpRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUpRoute = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar signUpRoute = {\n  path: '/api/signup',\n  method: 'post',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n      var _req$body, email, password, db, user, passwordHash, startingInfo, result, insertedId;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              db = (0, _db.getDbConnection)();\n              _context.next = 4;\n              return db.collection('users').findOne({\n                email: email\n              });\n            case 4:\n              user = _context.sent;\n              if (user) {\n                res.sendStatus(409);\n              }\n              _context.next = 8;\n              return _bcrypt[\"default\"].hash(password, 10);\n            case 8:\n              passwordHash = _context.sent;\n              startingInfo = {\n                hairColor: '',\n                favoriteFood: '',\n                bio: ''\n              };\n              _context.next = 12;\n              return db.collection('users').insertOne({\n                email: email,\n                passwordHash: passwordHash,\n                info: startingInfo,\n                isVerified: false\n              });\n            case 12:\n              result = _context.sent;\n              insertedId = result.insertedId;\n              _jsonwebtoken[\"default\"].sign({\n                id: insertedId,\n                email: email,\n                info: startingInfo,\n                isVerified: false\n              }, process.env.JWT_SECRET, {\n                expiresIn: '2d'\n              }, function (err, token) {\n                if (err) {\n                  return res.status(500).send(err);\n                }\n                res.status(200).json({\n                  token: token\n                });\n              });\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.signUpRoute = signUpRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX2RiIiwib2JqIiwiX19lc01vZHVsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJzaWduVXBSb3V0ZSIsInBhdGgiLCJtZXRob2QiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJkYiIsInVzZXIiLCJwYXNzd29yZEhhc2giLCJzdGFydGluZ0luZm8iLCJyZXN1bHQiLCJpbnNlcnRlZElkIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJnZXREYkNvbm5lY3Rpb24iLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInNlbnQiLCJzZW5kU3RhdHVzIiwiYmNyeXB0IiwiaGFzaCIsImhhaXJDb2xvciIsImZhdm9yaXRlRm9vZCIsImJpbyIsImluc2VydE9uZSIsImlzVmVyaWZpZWQiLCJqd3QiLCJzaWduIiwiaWQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsImpzb24iLCJzdG9wIiwiX3giLCJfeDIiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsic2lnblVwUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgZ2V0RGJDb25uZWN0aW9uIH0gZnJvbSAnLi4vZGInO1xuXG5leHBvcnQgY29uc3Qgc2lnblVwUm91dGUgPSB7XG4gICAgcGF0aDogJy9hcGkvc2lnbnVwJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoYW5kbGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG5cbiAgICAgICAgY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oKTtcblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgZW1haWwgfSk7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwOSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXNzd29yZEhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nSW5mbyA9IHtcbiAgICAgICAgICAgIGhhaXJDb2xvcjogJycsXG4gICAgICAgICAgICBmYXZvcml0ZUZvb2Q6ICcnLFxuICAgICAgICAgICAgYmlvOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmluc2VydE9uZSh7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkSGFzaCxcbiAgICAgICAgICAgIGluZm86IHN0YXJ0aW5nSW5mbyxcbiAgICAgICAgICAgIGlzVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IGluc2VydGVkSWQsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGluZm86IHN0YXJ0aW5nSW5mbyxcbiAgICAgICAgICAgIGlzVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzSW46ICcyZCcsXG4gICAgICAgIH0sXG4gICAgICAgIChlcnIsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxnQkFBQUEsR0FBQTtBQUFBLFNBQUFFLG1CQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBLGNBQUFDLElBQUEsR0FBQVAsR0FBQSxDQUFBSyxHQUFBLEVBQUFDLEdBQUEsT0FBQUUsS0FBQSxHQUFBRCxJQUFBLENBQUFDLEtBQUEsV0FBQUMsS0FBQSxJQUFBUCxNQUFBLENBQUFPLEtBQUEsaUJBQUFGLElBQUEsQ0FBQUcsSUFBQSxJQUFBVCxPQUFBLENBQUFPLEtBQUEsWUFBQUcsT0FBQSxDQUFBVixPQUFBLENBQUFPLEtBQUEsRUFB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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_jsonwebtoken","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","signUpRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee","req","res","_req$body","email","password","db","user","passwordHash","startingInfo","result","insertedId","wrap","_callee$","_context","prev","next","body","getDbConnection","collection","findOne","sent","sendStatus","bcrypt","hash","hairColor","favoriteFood","bio","insertOne","isVerified","jwt","sign","id","process","env","JWT_SECRET","expiresIn","token","status","send","json","stop","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["signUpRoute.js"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport { getDbConnection } from '../db';\n\nexport const signUpRoute = {\n    path: '/api/signup',\n    method: 'post',\n    handler: async (req, res) => {\n        const { email, password } = req.body;\n\n\n        const db = getDbConnection();\n\n        const user = await db.collection('users').findOne({ email });\n\n        if (user) {\n            res.sendStatus(409);\n        }\n\n        const passwordHash = await bcrypt.hash(password, 10);\n\n        const startingInfo = {\n            hairColor: '',\n            favoriteFood: '',\n            bio: '',\n        };\n\n        const result = await db.collection('users').insertOne({\n            email,\n            passwordHash,\n            info: startingInfo,\n            isVerified: false,\n        });\n        const { insertedId } = result;\n\n        jwt.sign({\n            id: insertedId,\n            email,\n            info: startingInfo,\n            isVerified: false,\n        },\n        process.env.JWT_SECRET,\n        {\n            expiresIn: '2d',\n        },\n        (err, token) => {\n            if (err) {\n                return res.status(500).send(err);\n            }\n            res.status(200).json({ token });\n        });\n    }\n}"],"mappings":"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"}},"mtime":1690744649856},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\testRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.testRoute = void 0;\nvar testRoute = {\n  path: '/api/test',\n  method: 'get',\n  handler: function handler(req, res) {\n    res.status(200).send('It works!');\n  }\n};\nexports.testRoute = testRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0Um91dGUiLCJwYXRoIiwibWV0aG9kIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsidGVzdFJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB0ZXN0Um91dGUgPSB7XG4gICAgcGF0aDogJy9hcGkvdGVzdCcsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBoYW5kbGVyOiAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ0l0IHdvcmtzIScpO1xuICAgIH0sXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sSUFBTUEsU0FBUyxHQUFHO0VBQ3JCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsTUFBTSxFQUFFLEtBQUs7RUFDYkMsT0FBTyxFQUFFLFNBQUFBLFFBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0lBQ25CQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFdBQVcsQ0FBQztFQUNyQztBQUNKLENBQUM7QUFBQ0MsT0FBQSxDQUFBUixTQUFBLEdBQUFBLFNBQUEifQ==","map":{"version":3,"names":["testRoute","path","method","handler","req","res","status","send","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["testRoute.js"],"sourcesContent":["export const testRoute = {\n    path: '/api/test',\n    method: 'get',\n    handler: (req, res) => {\n        res.status(200).send('It works!');\n    },\n};"],"mappings":";;;;;;AAAO,IAAMA,SAAS,GAAG;EACrBC,IAAI,EAAE,WAAW;EACjBC,MAAM,EAAE,KAAK;EACbC,OAAO,EAAE,SAAAA,QAACC,GAAG,EAAEC,GAAG,EAAK;IACnBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,WAAW,CAAC;EACrC;AACJ,CAAC;AAACC,OAAA,CAAAR,SAAA,GAAAA,SAAA"}},"mtime":1690435862484},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\updateUserInfoRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserInfoRoute = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _mongodb = require(\"mongodb\");\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar updateUserInfoRoute = {\n  path: '/api/users/:userId',\n  method: 'put',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n      var authorization, userId, updates, token;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              authorization = req.headers.authorization;\n              userId = req.params.userId;\n              updates = function (_ref) {\n                var favoriteFood = _ref.favoriteFood,\n                  hairColor = _ref.hairColor,\n                  bio = _ref.bio;\n                return {\n                  favoriteFood: favoriteFood,\n                  hairColor: hairColor,\n                  bio: bio\n                };\n              }(req.body);\n              if (authorization) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt(\"return\", res.status(401).json({\n                message: 'No authorization header sent'\n              }));\n            case 5:\n              token = authorization.split(' ')[1];\n              _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET, /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(err, decoded) {\n                  var id, db, result, _result$value, email, isVerified, info;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          if (!err) {\n                            _context.next = 2;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", res.status(401).json({\n                            message: 'Unable to verify token'\n                          }));\n                        case 2:\n                          id = decoded.id;\n                          if (!(id !== userId)) {\n                            _context.next = 5;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", res.status(403).json({\n                            message: 'Not allowed to update that user\\'s data'\n                          }));\n                        case 5:\n                          // const db = getDbConnection('react-auth-db');\n                          db = (0, _db.getDbConnection)();\n                          _context.next = 8;\n                          return db.collection('users').findOneAndUpdate({\n                            _id: (0, _mongodb.ObjectID)(id)\n                          }, {\n                            $set: {\n                              info: updates\n                            }\n                          }, {\n                            returnOriginal: false\n                          });\n                        case 8:\n                          result = _context.sent;\n                          _result$value = result.value, email = _result$value.email, isVerified = _result$value.isVerified, info = _result$value.info;\n                          _jsonwebtoken[\"default\"].sign({\n                            id: id,\n                            email: email,\n                            isVerified: isVerified,\n                            info: info\n                          }, process.env.JWT_SECRET, {\n                            expiresIn: '2d'\n                          }, function (err, token) {\n                            if (err) {\n                              return res.status(200).json(err);\n                            }\n                            res.status(200).json({\n                              token: token\n                            });\n                          });\n                        case 11:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n                return function (_x3, _x4) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.updateUserInfoRoute = updateUserInfoRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9uZ29kYiIsIl9kYiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZm4iLCJzZWxmIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwidXBkYXRlVXNlckluZm9Sb3V0ZSIsInBhdGgiLCJtZXRob2QiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJhdXRob3JpemF0aW9uIiwidXNlcklkIiwidXBkYXRlcyIsInRva2VuIiwid3JhcCIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwiaGVhZGVycyIsInBhcmFtcyIsIl9yZWYiLCJmYXZvcml0ZUZvb2QiLCJoYWlyQ29sb3IiLCJiaW8iLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzcGxpdCIsImp3dCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiX3JlZjIiLCJfY2FsbGVlIiwiZGVjb2RlZCIsImlkIiwiZGIiLCJyZXN1bHQiLCJfcmVzdWx0JHZhbHVlIiwiZW1haWwiLCJpc1ZlcmlmaWVkIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsImdldERiQ29ubmVjdGlvbiIsImNvbGxlY3Rpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwiX2lkIiwiT2JqZWN0SUQiLCIkc2V0IiwicmV0dXJuT3JpZ2luYWwiLCJzZW50Iiwic2lnbiIsImV4cGlyZXNJbiIsInN0b3AiLCJfeDMiLCJfeDQiLCJfeCIsIl94MiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDT0RFSVRcXGF1dGhmaW5pc2hpbmdcXGJhY2stZW5kXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1cGRhdGVVc2VySW5mb1JvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IE9iamVjdElEIH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyBnZXREYkNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYic7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VySW5mb1JvdXRlID0ge1xuICAgIHBhdGg6ICcvYXBpL3VzZXJzLzp1c2VySWQnLFxuICAgIG1ldGhvZDogJ3B1dCcsXG4gICAgaGFuZGxlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYXV0aG9yaXphdGlvbiB9ID0gcmVxLmhlYWRlcnM7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZXMgPSAoKHtcbiAgICAgICAgICAgIGZhdm9yaXRlRm9vZCxcbiAgICAgICAgICAgIGhhaXJDb2xvcixcbiAgICAgICAgICAgIGJpbyxcbiAgICAgICAgfSkgPT4gKHtcbiAgICAgICAgICAgIGZhdm9yaXRlRm9vZCxcbiAgICAgICAgICAgIGhhaXJDb2xvcixcbiAgICAgICAgICAgIGJpbyxcbiAgICAgICAgfSkpKHJlcS5ib2R5KTtcblxuICAgICAgICBpZiAoIWF1dGhvcml6YXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdObyBhdXRob3JpemF0aW9uIGhlYWRlciBzZW50JyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzFdO1xuXG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmFibGUgdG8gdmVyaWZ5IHRva2VuJyB9KTtcblxuICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gZGVjb2RlZDtcblxuICAgICAgICAgICAgaWYgKGlkICE9PSB1c2VySWQpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdOb3QgYWxsb3dlZCB0byB1cGRhdGUgdGhhdCB1c2VyXFwncyBkYXRhJyB9KTtcblxuICAgICAgICAgICAgLy8gY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oJ3JlYWN0LWF1dGgtZGInKTtcbiAgICAgICAgY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgIHsgX2lkOiBPYmplY3RJRChpZCkgfSxcbiAgICAgICAgICAgICAgICB7ICRzZXQ6IHsgaW5mbzogdXBkYXRlcyB9IH0sXG4gICAgICAgICAgICAgICAgeyByZXR1cm5PcmlnaW5hbDogZmFsc2UgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCBpc1ZlcmlmaWVkLCBpbmZvIH0gPSByZXN1bHQudmFsdWU7XG5cbiAgICAgICAgICAgIGp3dC5zaWduKHsgaWQsIGVtYWlsLCBpc1ZlcmlmaWVkLCBpbmZvIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMmQnIH0sIChlcnIsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUYsT0FBQTtBQUF3QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLGdCQUFBQSxHQUFBO0FBQUEsU0FBQUUsbUJBQUFDLEdBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUEsRUFBQUMsTUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUEsY0FBQUMsSUFBQSxHQUFBUCxHQUFBLENBQUFLLEdBQUEsRUFBQUMsR0FBQSxPQUFBRSxLQUFBLEdBQUFELElBQUEsQ0FBQUMsS0FBQSxXQUFBQyxLQUFBLElBQUFQLE1BQUEsQ0FBQU8sS0FBQSxpQkFBQUYsSUFBQSxDQUFBRyxJQUFBLElBQUFULE9BQUEsQ0FBQU8sS0FBQSxZQUFBRyxPQUFBLENBQUFWLE9BQUEsQ0FBQU8sS0FBQSxFQUFBSSxJQUFBLENBQUFULEtBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFTLGtCQUFBQyxFQUFBLDZCQUFBQyxJQUFBLFNBQUFDLElBQUEsR0FBQUMsU0FBQSxhQUFBTixPQUFBLFdBQUFWLE9BQUEsRUFBQUMsTUFBQSxRQUFBRixHQUFBLEdBQUFjLEVBQUEsQ0FBQUksS0FBQSxDQUFBSCxJQUFBLEVBQUFDLElBQUEsWUFBQWIsTUFBQUssS0FBQSxJQUFBVCxrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsVUFBQUksS0FBQSxjQUFBSixPQUFBZSxHQUFBLElBQUFwQixrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_mongodb","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","updateUserInfoRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee2","req","res","authorization","userId","updates","token","wrap","_callee2$","_context2","prev","next","headers","params","_ref","favoriteFood","hairColor","bio","body","abrupt","status","json","message","split","jwt","verify","process","env","JWT_SECRET","_ref2","_callee","decoded","id","db","result","_result$value","email","isVerified","_callee$","_context","getDbConnection","collection","findOneAndUpdate","_id","ObjectID","$set","returnOriginal","sent","sign","expiresIn","stop","_x3","_x4","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["updateUserInfoRoute.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport { ObjectID } from 'mongodb';\nimport { getDbConnection } from '../db';\n\nexport const updateUserInfoRoute = {\n    path: '/api/users/:userId',\n    method: 'put',\n    handler: async (req, res) => {\n        const { authorization } = req.headers;\n        const { userId } = req.params;\n\n        const updates = (({\n            favoriteFood,\n            hairColor,\n            bio,\n        }) => ({\n            favoriteFood,\n            hairColor,\n            bio,\n        }))(req.body);\n\n        if (!authorization) {\n            return res.status(401).json({ message: 'No authorization header sent' });\n        }\n\n        const token = authorization.split(' ')[1];\n\n        jwt.verify(token, process.env.JWT_SECRET, async (err, decoded) => {\n            if (err) return res.status(401).json({ message: 'Unable to verify token' });\n\n            const { id } = decoded;\n\n            if (id !== userId) return res.status(403).json({ message: 'Not allowed to update that user\\'s data' });\n\n            // const db = getDbConnection('react-auth-db');\n        const db = getDbConnection();\n\n            const result = await db.collection('users').findOneAndUpdate(\n                { _id: ObjectID(id) },\n                { $set: { info: updates } },\n                { returnOriginal: false },\n            );\n            const { email, isVerified, info } = result.value;\n\n            jwt.sign({ id, email, isVerified, info }, process.env.JWT_SECRET, { expiresIn: '2d' }, (err, token) => {\n                if (err) {\n                    return res.status(200).json(err);\n                }\n                res.status(200).json({ token });\n            });\n        })\n    }\n}"],"mappings":"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"}},"mtime":1690745576469},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.routes = void 0;\nvar _logInRoute = require(\"./logInRoute\");\nvar _signUpRoute = require(\"./signUpRoute\");\nvar _testRoute = require(\"./testRoute\");\nvar _updateUserInfoRoute = require(\"./updateUserInfoRoute\");\nvar routes = [_logInRoute.logInRoute, _signUpRoute.signUpRoute, _testRoute.testRoute, _updateUserInfoRoute.updateUserInfoRoute];\nexports.routes = routes;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nSW5Sb3V0ZSIsInJlcXVpcmUiLCJfc2lnblVwUm91dGUiLCJfdGVzdFJvdXRlIiwiX3VwZGF0ZVVzZXJJbmZvUm91dGUiLCJyb3V0ZXMiLCJsb2dJblJvdXRlIiwic2lnblVwUm91dGUiLCJ0ZXN0Um91dGUiLCJ1cGRhdGVVc2VySW5mb1JvdXRlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXENPREVJVFxcYXV0aGZpbmlzaGluZ1xcYmFjay1lbmRcXHNyY1xccm91dGVzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0luUm91dGUgfSBmcm9tICcuL2xvZ0luUm91dGUnO1xuaW1wb3J0IHsgc2lnblVwUm91dGUgfSBmcm9tICcuL3NpZ25VcFJvdXRlJztcbmltcG9ydCB7IHRlc3RSb3V0ZSB9IGZyb20gJy4vdGVzdFJvdXRlJztcbmltcG9ydCB7IHVwZGF0ZVVzZXJJbmZvUm91dGUgfSBmcm9tICcuL3VwZGF0ZVVzZXJJbmZvUm91dGUnO1xuXG5leHBvcnQgY29uc3Qgcm91dGVzID0gW1xuICAgIGxvZ0luUm91dGUsXG4gICAgc2lnblVwUm91dGUsXG4gICAgdGVzdFJvdXRlLFxuICAgIHVwZGF0ZVVzZXJJbmZvUm91dGUsXG5dO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxXQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxvQkFBQSxHQUFBSCxPQUFBO0FBRU8sSUFBTUksTUFBTSxHQUFHLENBQ2xCQyxzQkFBVSxFQUNWQyx3QkFBVyxFQUNYQyxvQkFBUyxFQUNUQyx3Q0FBbUIsQ0FDdEI7QUFBQ0MsT0FBQSxDQUFBTCxNQUFBLEdBQUFBLE1BQUEifQ==","map":{"version":3,"names":["_logInRoute","require","_signUpRoute","_testRoute","_updateUserInfoRoute","routes","logInRoute","signUpRoute","testRoute","updateUserInfoRoute","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["index.js"],"sourcesContent":["import { logInRoute } from './logInRoute';\nimport { signUpRoute } from './signUpRoute';\nimport { testRoute } from './testRoute';\nimport { updateUserInfoRoute } from './updateUserInfoRoute';\n\nexport const routes = [\n    logInRoute,\n    signUpRoute,\n    testRoute,\n    updateUserInfoRoute,\n];\n"],"mappings":";;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,oBAAA,GAAAH,OAAA;AAEO,IAAMI,MAAM,GAAG,CAClBC,sBAAU,EACVC,wBAAW,EACXC,oBAAS,EACTC,wCAAmB,CACtB;AAACC,OAAA,CAAAL,MAAA,GAAAA,MAAA"}},"mtime":1690435862449},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\logInRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logInRoute = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar logInRoute = {\n  path: '/api/login',\n  method: 'post',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n      var _req$body, email, password, db, user, id, isVerified, passwordHash, info, isCorrect;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              db = (0, _db.getDbConnection)();\n              _context.next = 4;\n              return db.collection('users').findOne({\n                email: email\n              });\n            case 4:\n              user = _context.sent;\n              if (user) {\n                _context.next = 7;\n                break;\n              }\n              return _context.abrupt(\"return\", res.sendStatus(401));\n            case 7:\n              id = user._id, isVerified = user.isVerified, passwordHash = user.passwordHash, info = user.info;\n              _context.next = 10;\n              return _bcrypt[\"default\"].compare(password, passwordHash);\n            case 10:\n              isCorrect = _context.sent;\n              if (isCorrect) {\n                _jsonwebtoken[\"default\"].sign({\n                  id: id,\n                  isVerified: isVerified,\n                  email: email,\n                  info: info\n                }, process.env.JWT_SECRET, {\n                  expiresIn: '2d'\n                }, function (err, token) {\n                  if (err) {\n                    res.status(500).json(err);\n                  }\n                  res.status(200).json({\n                    token: token\n                  });\n                });\n              } else {\n                res.sendStatus(401);\n              }\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.logInRoute = logInRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX2RiIiwib2JqIiwiX19lc01vZHVsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJsb2dJblJvdXRlIiwicGF0aCIsIm1ldGhvZCIsImhhbmRsZXIiLCJfaGFuZGxlciIsInJlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwiX3JlcSRib2R5IiwiZW1haWwiLCJwYXNzd29yZCIsImRiIiwidXNlciIsImlkIiwiaXNWZXJpZmllZCIsInBhc3N3b3JkSGFzaCIsImlzQ29ycmVjdCIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJib2R5IiwiZ2V0RGJDb25uZWN0aW9uIiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJzZW50IiwiYWJydXB0Iiwic2VuZFN0YXR1cyIsIl9pZCIsImJjcnlwdCIsImNvbXBhcmUiLCJqd3QiLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJ0b2tlbiIsInN0YXR1cyIsImpzb24iLCJzdG9wIiwiX3giLCJfeDIiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsibG9nSW5Sb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBnZXREYkNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYic7XG5cbmV4cG9ydCBjb25zdCBsb2dJblJvdXRlID0ge1xuICAgIHBhdGg6ICcvYXBpL2xvZ2luJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoYW5kbGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAgIGNvbnN0IGRiID0gZ2V0RGJDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZmluZE9uZSh7IGVtYWlsIH0pO1xuXG4gICAgICAgIGlmICghdXNlcikgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XG5cbiAgICAgICAgY29uc3QgeyBfaWQ6IGlkLCBpc1ZlcmlmaWVkLCBwYXNzd29yZEhhc2gsIGluZm8gfSA9IHVzZXI7XG5cbiAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHBhc3N3b3JkSGFzaCk7XG5cbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgand0LnNpZ24oeyBpZCwgaXNWZXJpZmllZCwgZW1haWwsIGluZm8gfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICcyZCcgfSwgKGVyciwgdG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDAxKTtcbiAgICAg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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_jsonwebtoken","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","logInRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee","req","res","_req$body","email","password","db","user","id","isVerified","passwordHash","isCorrect","wrap","_callee$","_context","prev","next","body","getDbConnection","collection","findOne","sent","abrupt","sendStatus","_id","bcrypt","compare","jwt","sign","process","env","JWT_SECRET","expiresIn","token","status","json","stop","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["logInRoute.js"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport { getDbConnection } from '../db';\n\nexport const logInRoute = {\n    path: '/api/login',\n    method: 'post',\n    handler: async (req, res) => {\n        const { email, password } = req.body;\n\n        const db = getDbConnection();\n\n        const user = await db.collection('users').findOne({ email });\n\n        if (!user) return res.sendStatus(401);\n\n        const { _id: id, isVerified, passwordHash, info } = user;\n\n        const isCorrect = await bcrypt.compare(password, passwordHash);\n\n        if (isCorrect) {\n            jwt.sign({ id, isVerified, email, info }, process.env.JWT_SECRET, { expiresIn: '2d' }, (err, token) => {\n                if (err) {\n                    res.status(500).json(err);\n                }\n\n                res.status(200).json({ token });\n            });\n        } else {\n            res.sendStatus(401);\n        }\n    },\n}"],"mappings":"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"}},"mtime":1690744657966},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDbConnection = exports.initializeDbConnection = void 0;\nvar _mongodb = require(\"mongodb\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar client;\nvar initializeDbConnection = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _mongodb.MongoClient.connect('mongodb://127.0.0.1:27017/auth-finish'\n            //  'mongodb://localhost:27017/auth-finish'\n            , {\n              useNewUrlParser: true,\n              useUnifiedTopology: true\n            });\n          case 2:\n            client = _context.sent;\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function initializeDbConnection() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.initializeDbConnection = initializeDbConnection;\nvar getDbConnection = function getDbConnection() {\n  var db = client.db('auth-finish');\n  return db;\n};\nexports.getDbConnection = getDbConnection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29kYiIsInJlcXVpcmUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZm4iLCJzZWxmIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiY2xpZW50IiwiaW5pdGlhbGl6ZURiQ29ubmVjdGlvbiIsIl9yZWYiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJNb25nb0NsaWVudCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJzZW50Iiwic3RvcCIsImV4cG9ydHMiLCJnZXREYkNvbm5lY3Rpb24iLCJkYiJdLCJzb3VyY2VSb290IjoiRDpcXENPREVJVFxcYXV0aGZpbmlzaGluZ1xcYmFjay1lbmRcXHNyY1xcIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xuXG5sZXQgY2xpZW50O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZURiQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBjbGllbnQgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KFxuICAgICAgICAnbW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9hdXRoLWZpbmlzaCdcbiAgICAgICAgLy8gICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3L2F1dGgtZmluaXNoJ1xuICAgICAgICAse1xuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldERiQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBkYiA9IGNsaWVudC5kYignYXV0aC1maW5pc2gnKTtcbiAgICByZXR1cm4gZGI7XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLE9BQUE7QUFBc0MsU0FBQUMsbUJBQUFDLEdBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUEsRUFBQUMsTUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUEsY0FBQUMsSUFBQSxHQUFBUCxHQUFBLENBQUFLLEdBQUEsRUFBQUMsR0FBQSxPQUFBRSxLQUFBLEdBQUFELElBQUEsQ0FBQUMsS0FBQSxXQUFBQyxLQUFBLElBQUFQLE1BQUEsQ0FBQU8sS0FBQSxpQkFBQUYsSUFBQSxDQUFBRyxJQUFBLElBQUFULE9BQUEsQ0FBQU8sS0FBQSxZQUFBRyxPQUFBLENBQUFWLE9BQUEsQ0FBQU8sS0FBQSxFQUFBSSxJQUFBLENBQUFULEtBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFTLGtCQUFBQyxFQUFBLDZCQUFBQyxJQUFBLFNBQUFDLElBQUEsR0FBQUMsU0FBQSxhQUFBTixPQUFBLFdBQUFWLE9BQUEsRUFBQUMsTUFBQSxRQUFBRixHQUFBLEdBQUFjLEVBQUEsQ0FBQUksS0FBQSxDQUFBSCxJQUFBLEVBQUFDLElBQUEsWUFBQWIsTUFBQUssS0FBQSxJQUFBVCxrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsVUFBQUksS0FBQSxjQUFBSixPQUFBZSxHQUFBLElBQUFwQixrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsV0FBQWUsR0FBQSxLQUFBaEIsS0FBQSxDQUFBaUIsU0FBQTtBQUV0QyxJQUFJQyxNQUFNO0FBRUgsSUFBTUMsc0JBQXNCO0VBQUEsSUFBQUMsSUFBQSxHQUFBVixpQkFBQSxlQUFBVyxrQkFBQSxDQUFBQyxJQUFBLENBQUcsU0FBQUMsUUFBQTtJQUFBLE9BQUFGLGtCQUFBLENBQUFHLElBQUEsVUFBQUMsU0FBQUMsUUFBQTtNQUFBO1FBQUEsUUFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtVQUFBO1lBQUFGLFFBQUEsQ0FBQUUsSUFBQTtZQUFBLE9BQ25CQyxvQkFBVyxDQUFDQyxPQUFPLENBQzlCO1lBQ0E7WUFBQSxFQUNDO2NBQ0RDLGVBQWUsRUFBRSxJQUFJO2NBQ3JCQyxrQkFBa0IsRUFBRTtZQUN4QixDQUFDLENBQUM7VUFBQTtZQU5GZCxNQUFNLEdBQUFRLFFBQUEsQ0FBQU8sSUFBQTtVQUFBO1VBQUE7WUFBQSxPQUFBUCxRQUFBLENBQUFRLElBQUE7UUFBQTtNQUFBO0lBQUEsR0FBQVgsT0FBQTtFQUFBLENBT1Q7RUFBQSxnQkFSWUosc0JBQXNCQSxDQUFBO0lBQUEsT0FBQUMsSUFBQSxDQUFBTCxLQUFBLE9BQUFELFNBQUE7RUFBQTtBQUFBLEdBUWxDO0FBQUFxQixPQUFBLENBQUFoQixzQkFBQSxHQUFBQSxzQkFBQTtBQUVNLElBQU1pQixlQUFlLEdBQUcsU0FBbEJBLGVBQWVBLENBQUEsRUFBUztFQUNqQyxJQUFNQyxFQUFFLEdBQUduQixNQUFNLENBQUNtQixFQUFFLENBQUMsYUFBYSxDQUFDO0VBQ25DLE9BQU9BLEVBQUU7QUFDYixDQUFDO0FBQUFGLE9BQUEsQ0FBQUMsZUFBQSxHQUFBQSxlQUFBIn0=","map":{"version":3,"names":["_mongodb","require","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","client","initializeDbConnection","_ref","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","MongoClient","connect","useNewUrlParser","useUnifiedTopology","sent","stop","exports","getDbConnection","db"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\","sources":["db.js"],"sourcesContent":["import { MongoClient } from 'mongodb';\n\nlet client;\n\nexport const initializeDbConnection = async () => {\n    client = await MongoClient.connect(\n        'mongodb://127.0.0.1:27017/auth-finish'\n        //  'mongodb://localhost:27017/auth-finish'\n        ,{\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n    });\n}\n\nexport const getDbConnection = () => {\n    const db = client.db('auth-finish');\n    return db;\n}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAAsC,SAAAC,mBAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,GAAA,EAAAC,GAAA,cAAAC,IAAA,GAAAP,GAAA,CAAAK,GAAA,EAAAC,GAAA,OAAAE,KAAA,GAAAD,IAAA,CAAAC,KAAA,WAAAC,KAAA,IAAAP,MAAA,CAAAO,KAAA,iBAAAF,IAAA,CAAAG,IAAA,IAAAT,OAAA,CAAAO,KAAA,YAAAG,OAAA,CAAAV,OAAA,CAAAO,KAAA,EAAAI,IAAA,CAAAT,KAAA,EAAAC,MAAA;AAAA,SAAAS,kBAAAC,EAAA,6BAAAC,IAAA,SAAAC,IAAA,GAAAC,SAAA,aAAAN,OAAA,WAAAV,OAAA,EAAAC,MAAA,QAAAF,GAAA,GAAAc,EAAA,CAAAI,KAAA,CAAAH,IAAA,EAAAC,IAAA,YAAAb,MAAAK,KAAA,IAAAT,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,UAAAI,KAAA,cAAAJ,OAAAe,GAAA,IAAApB,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,WAAAe,GAAA,KAAAhB,KAAA,CAAAiB,SAAA;AAEtC,IAAIC,MAAM;AAEH,IAAMC,sBAAsB;EAAA,IAAAC,IAAA,GAAAV,iBAAA,eAAAW,kBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,OAAAF,kBAAA,CAAAG,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACnBC,oBAAW,CAACC,OAAO,CAC9B;YACA;YAAA,EACC;cACDC,eAAe,EAAE,IAAI;cACrBC,kBAAkB,EAAE;YACxB,CAAC,CAAC;UAAA;YANFd,MAAM,GAAAQ,QAAA,CAAAO,IAAA;UAAA;UAAA;YAAA,OAAAP,QAAA,CAAAQ,IAAA;QAAA;MAAA;IAAA,GAAAX,OAAA;EAAA,CAOT;EAAA,gBARYJ,sBAAsBA,CAAA;IAAA,OAAAC,IAAA,CAAAL,KAAA,OAAAD,SAAA;EAAA;AAAA,GAQlC;AAAAqB,OAAA,CAAAhB,sBAAA,GAAAA,sBAAA;AAEM,IAAMiB,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;EACjC,IAAMC,EAAE,GAAGnB,MAAM,CAACmB,EAAE,CAAC,aAAa,CAAC;EACnC,OAAOA,EAAE;AACb,CAAC;AAAAF,OAAA,CAAAC,eAAA,GAAAA,eAAA"}},"mtime":1690744631151},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\signUpRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.signUpRoute = void 0;\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar signUpRoute = {\n  path: '/api/signup',\n  method: 'post',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n      var _req$body, email, password, db, user, passwordHash, startingInfo, result, insertedId;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _req$body = req.body, email = _req$body.email, password = _req$body.password;\n              db = (0, _db.getDbConnection)();\n              _context.next = 4;\n              return db.collection('users').findOne({\n                email: email\n              });\n            case 4:\n              user = _context.sent;\n              if (user) {\n                res.sendStatus(409);\n              }\n              _context.next = 8;\n              return _bcrypt[\"default\"].hash(password, 10);\n            case 8:\n              passwordHash = _context.sent;\n              startingInfo = {\n                hairColor: '',\n                favoriteFood: '',\n                bio: ''\n              };\n              _context.next = 12;\n              return db.collection('users').insertOne({\n                email: email,\n                passwordHash: passwordHash,\n                info: startingInfo,\n                isVerified: false\n              });\n            case 12:\n              result = _context.sent;\n              insertedId = result.insertedId;\n              _jsonwebtoken[\"default\"].sign({\n                id: insertedId,\n                email: email,\n                info: startingInfo,\n                isVerified: false\n              }, process.env.JWT_SECRET, {\n                expiresIn: '2d'\n              }, function (err, token) {\n                if (err) {\n                  return res.status(500).send(err);\n                }\n                res.status(200).json({\n                  token: token\n                });\n              });\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.signUpRoute = signUpRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX2RiIiwib2JqIiwiX19lc01vZHVsZSIsImFzeW5jR2VuZXJhdG9yU3RlcCIsImdlbiIsInJlc29sdmUiLCJyZWplY3QiLCJfbmV4dCIsIl90aHJvdyIsImtleSIsImFyZyIsImluZm8iLCJ2YWx1ZSIsImVycm9yIiwiZG9uZSIsIlByb21pc2UiLCJ0aGVuIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJmbiIsInNlbGYiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJlcnIiLCJ1bmRlZmluZWQiLCJzaWduVXBSb3V0ZSIsInBhdGgiLCJtZXRob2QiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsInJlcSIsInJlcyIsIl9yZXEkYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJkYiIsInVzZXIiLCJwYXNzd29yZEhhc2giLCJzdGFydGluZ0luZm8iLCJyZXN1bHQiLCJpbnNlcnRlZElkIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsImJvZHkiLCJnZXREYkNvbm5lY3Rpb24iLCJjb2xsZWN0aW9uIiwiZmluZE9uZSIsInNlbnQiLCJzZW5kU3RhdHVzIiwiYmNyeXB0IiwiaGFzaCIsImhhaXJDb2xvciIsImZhdm9yaXRlRm9vZCIsImJpbyIsImluc2VydE9uZSIsImlzVmVyaWZpZWQiLCJqd3QiLCJzaWduIiwiaWQiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsImpzb24iLCJzdG9wIiwiX3giLCJfeDIiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsic2lnblVwUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgZ2V0RGJDb25uZWN0aW9uIH0gZnJvbSAnLi4vZGInO1xuXG5leHBvcnQgY29uc3Qgc2lnblVwUm91dGUgPSB7XG4gICAgcGF0aDogJy9hcGkvc2lnbnVwJyxcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoYW5kbGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuXG5cbiAgICAgICAgY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oKTtcblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lKHsgZW1haWwgfSk7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwOSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXNzd29yZEhhc2ggPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTApO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nSW5mbyA9IHtcbiAgICAgICAgICAgIGhhaXJDb2xvcjogJycsXG4gICAgICAgICAgICBmYXZvcml0ZUZvb2Q6ICcnLFxuICAgICAgICAgICAgYmlvOiAnJyxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmluc2VydE9uZSh7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkSGFzaCxcbiAgICAgICAgICAgIGluZm86IHN0YXJ0aW5nSW5mbyxcbiAgICAgICAgICAgIGlzVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgand0LnNpZ24oe1xuICAgICAgICAgICAgaWQ6IGluc2VydGVkSWQsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGluZm86IHN0YXJ0aW5nSW5mbyxcbiAgICAgICAgICAgIGlzVmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBwcm9jZXNzLmVudi5KV1RfU0VDUkVULFxuICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzSW46ICcyZCcsXG4gICAgICAgIH0sXG4gICAgICAgIChlcnIsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxnQkFBQUEsR0FBQTtBQUFBLFNBQUFFLG1CQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsRUFBQUMsR0FBQSxFQUFBQyxHQUFBLGNBQUFDLElBQUEsR0FBQVAsR0FBQSxDQUFBSyxHQUFBLEVBQUFDLEdBQUEsT0FBQUUsS0FBQSxHQUFBRCxJQUFBLENBQUFDLEtBQUEsV0FBQUMsS0FBQSxJQUFBUCxNQUFBLENBQUFPLEtBQUEsaUJBQUFGLElBQUEsQ0FBQUcsSUFBQSxJQUFBVCxPQUFBLENBQUFPLEtBQUEsWUFBQUcsT0FBQSxDQUFBVixPQUFBLENBQUFPLEtBQUEsRUFB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","map":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","_jsonwebtoken","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","signUpRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee","req","res","_req$body","email","password","db","user","passwordHash","startingInfo","result","insertedId","wrap","_callee$","_context","prev","next","body","getDbConnection","collection","findOne","sent","sendStatus","bcrypt","hash","hairColor","favoriteFood","bio","insertOne","isVerified","jwt","sign","id","process","env","JWT_SECRET","expiresIn","token","status","send","json","stop","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["signUpRoute.js"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport { getDbConnection } from '../db';\n\nexport const signUpRoute = {\n    path: '/api/signup',\n    method: 'post',\n    handler: async (req, res) => {\n        const { email, password } = req.body;\n\n\n        const db = getDbConnection();\n\n        const user = await db.collection('users').findOne({ email });\n\n        if (user) {\n            res.sendStatus(409);\n        }\n\n        const passwordHash = await bcrypt.hash(password, 10);\n\n        const startingInfo = {\n            hairColor: '',\n            favoriteFood: '',\n            bio: '',\n        };\n\n        const result = await db.collection('users').insertOne({\n            email,\n            passwordHash,\n            info: startingInfo,\n            isVerified: false,\n        });\n        const { insertedId } = result;\n\n        jwt.sign({\n            id: insertedId,\n            email,\n            info: startingInfo,\n            isVerified: false,\n        },\n        process.env.JWT_SECRET,\n        {\n            expiresIn: '2d',\n        },\n        (err, token) => {\n            if (err) {\n                return res.status(500).send(err);\n            }\n            res.status(200).json({ token });\n        });\n    }\n}"],"mappings":"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"}},"mtime":1690744649856},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\testRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.testRoute = void 0;\nvar testRoute = {\n  path: '/api/test',\n  method: 'get',\n  handler: function handler(req, res) {\n    res.status(200).send('It works!');\n  }\n};\nexports.testRoute = testRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXN0Um91dGUiLCJwYXRoIiwibWV0aG9kIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInN0YXR1cyIsInNlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcQ09ERUlUXFxhdXRoZmluaXNoaW5nXFxiYWNrLWVuZFxcc3JjXFxyb3V0ZXNcXCIsInNvdXJjZXMiOlsidGVzdFJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB0ZXN0Um91dGUgPSB7XG4gICAgcGF0aDogJy9hcGkvdGVzdCcsXG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICBoYW5kbGVyOiAocmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ0l0IHdvcmtzIScpO1xuICAgIH0sXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sSUFBTUEsU0FBUyxHQUFHO0VBQ3JCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsTUFBTSxFQUFFLEtBQUs7RUFDYkMsT0FBTyxFQUFFLFNBQUFBLFFBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFLO0lBQ25CQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLFdBQVcsQ0FBQztFQUNyQztBQUNKLENBQUM7QUFBQ0MsT0FBQSxDQUFBUixTQUFBLEdBQUFBLFNBQUEifQ==","map":{"version":3,"names":["testRoute","path","method","handler","req","res","status","send","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["testRoute.js"],"sourcesContent":["export const testRoute = {\n    path: '/api/test',\n    method: 'get',\n    handler: (req, res) => {\n        res.status(200).send('It works!');\n    },\n};"],"mappings":";;;;;;AAAO,IAAMA,SAAS,GAAG;EACrBC,IAAI,EAAE,WAAW;EACjBC,MAAM,EAAE,KAAK;EACbC,OAAO,EAAE,SAAAA,QAACC,GAAG,EAAEC,GAAG,EAAK;IACnBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,WAAW,CAAC;EACrC;AACJ,CAAC;AAACC,OAAA,CAAAR,SAAA,GAAAA,SAAA"}},"mtime":1690435862484},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"filename\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\\\\src\\\\routes\\\\updateUserInfoRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\CODEIT\\\\authfinishing\\\\back-end\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.22.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateUserInfoRoute = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _mongodb = require(\"mongodb\");\nvar _db = require(\"../db\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar updateUserInfoRoute = {\n  path: '/api/users/:userId',\n  method: 'put',\n  handler: function () {\n    var _handler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n      var authorization, userId, updates, token;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              authorization = req.headers.authorization;\n              userId = req.params.userId;\n              updates = function (_ref) {\n                var favoriteFood = _ref.favoriteFood,\n                  hairColor = _ref.hairColor,\n                  bio = _ref.bio;\n                return {\n                  favoriteFood: favoriteFood,\n                  hairColor: hairColor,\n                  bio: bio\n                };\n              }(req.body);\n              if (authorization) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt(\"return\", res.status(401).json({\n                message: 'No authorization header sent'\n              }));\n            case 5:\n              token = authorization.split(' ')[1];\n              _jsonwebtoken[\"default\"].verify(token, process.env.JWT_SECRET, /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(err, decoded) {\n                  var id, db, result, _result$value, email, isVerified, info;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          if (!err) {\n                            _context.next = 2;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", res.status(401).json({\n                            message: 'Unable to verify token'\n                          }));\n                        case 2:\n                          id = decoded.id;\n                          if (!(id !== userId)) {\n                            _context.next = 5;\n                            break;\n                          }\n                          return _context.abrupt(\"return\", res.status(403).json({\n                            message: 'Not allowed to update that user\\'s data'\n                          }));\n                        case 5:\n                          // const db = getDbConnection('react-auth-db');\n                          db = (0, _db.getDbConnection)();\n                          _context.next = 8;\n                          return db.collection('users').findOneAndUpdate({\n                            _id: (0, _mongodb.ObjectID)(id)\n                          }, {\n                            $set: {\n                              info: updates\n                            }\n                          }, {\n                            returnOriginal: false\n                          });\n                        case 8:\n                          result = _context.sent;\n                          _result$value = result.value, email = _result$value.email, isVerified = _result$value.isVerified, info = _result$value.info;\n                          _jsonwebtoken[\"default\"].sign({\n                            id: id,\n                            email: email,\n                            isVerified: isVerified,\n                            info: info\n                          }, process.env.JWT_SECRET, {\n                            expiresIn: '2d'\n                          }, function (err, token) {\n                            if (err) {\n                              return res.status(200).json(err);\n                            }\n                            res.status(200).json({\n                              token: token\n                            });\n                          });\n                        case 11:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n                return function (_x3, _x4) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    function handler(_x, _x2) {\n      return _handler.apply(this, arguments);\n    }\n    return handler;\n  }()\n};\nexports.updateUserInfoRoute = updateUserInfoRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9uZ29kYiIsIl9kYiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJrZXkiLCJhcmciLCJpbmZvIiwidmFsdWUiLCJlcnJvciIsImRvbmUiLCJQcm9taXNlIiwidGhlbiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZm4iLCJzZWxmIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwidXBkYXRlVXNlckluZm9Sb3V0ZSIsInBhdGgiLCJtZXRob2QiLCJoYW5kbGVyIiwiX2hhbmRsZXIiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZTIiLCJyZXEiLCJyZXMiLCJhdXRob3JpemF0aW9uIiwidXNlcklkIiwidXBkYXRlcyIsInRva2VuIiwid3JhcCIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInByZXYiLCJuZXh0IiwiaGVhZGVycyIsInBhcmFtcyIsIl9yZWYiLCJmYXZvcml0ZUZvb2QiLCJoYWlyQ29sb3IiLCJiaW8iLCJib2R5IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzcGxpdCIsImp3dCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiX3JlZjIiLCJfY2FsbGVlIiwiZGVjb2RlZCIsImlkIiwiZGIiLCJyZXN1bHQiLCJfcmVzdWx0JHZhbHVlIiwiZW1haWwiLCJpc1ZlcmlmaWVkIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsImdldERiQ29ubmVjdGlvbiIsImNvbGxlY3Rpb24iLCJmaW5kT25lQW5kVXBkYXRlIiwiX2lkIiwiT2JqZWN0SUQiLCIkc2V0IiwicmV0dXJuT3JpZ2luYWwiLCJzZW50Iiwic2lnbiIsImV4cGlyZXNJbiIsInN0b3AiLCJfeDMiLCJfeDQiLCJfeCIsIl94MiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxDT0RFSVRcXGF1dGhmaW5pc2hpbmdcXGJhY2stZW5kXFxzcmNcXHJvdXRlc1xcIiwic291cmNlcyI6WyJ1cGRhdGVVc2VySW5mb1JvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IE9iamVjdElEIH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyBnZXREYkNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYic7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VySW5mb1JvdXRlID0ge1xuICAgIHBhdGg6ICcvYXBpL3VzZXJzLzp1c2VySWQnLFxuICAgIG1ldGhvZDogJ3B1dCcsXG4gICAgaGFuZGxlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgYXV0aG9yaXphdGlvbiB9ID0gcmVxLmhlYWRlcnM7XG4gICAgICAgIGNvbnN0IHsgdXNlcklkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZXMgPSAoKHtcbiAgICAgICAgICAgIGZhdm9yaXRlRm9vZCxcbiAgICAgICAgICAgIGhhaXJDb2xvcixcbiAgICAgICAgICAgIGJpbyxcbiAgICAgICAgfSkgPT4gKHtcbiAgICAgICAgICAgIGZhdm9yaXRlRm9vZCxcbiAgICAgICAgICAgIGhhaXJDb2xvcixcbiAgICAgICAgICAgIGJpbyxcbiAgICAgICAgfSkpKHJlcS5ib2R5KTtcblxuICAgICAgICBpZiAoIWF1dGhvcml6YXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdObyBhdXRob3JpemF0aW9uIGhlYWRlciBzZW50JyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbi5zcGxpdCgnICcpWzFdO1xuXG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmFibGUgdG8gdmVyaWZ5IHRva2VuJyB9KTtcblxuICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gZGVjb2RlZDtcblxuICAgICAgICAgICAgaWYgKGlkICE9PSB1c2VySWQpIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdOb3QgYWxsb3dlZCB0byB1cGRhdGUgdGhhdCB1c2VyXFwncyBkYXRhJyB9KTtcblxuICAgICAgICAgICAgLy8gY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oJ3JlYWN0LWF1dGgtZGInKTtcbiAgICAgICAgY29uc3QgZGIgPSBnZXREYkNvbm5lY3Rpb24oKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuY29sbGVjdGlvbigndXNlcnMnKS5maW5kT25lQW5kVXBkYXRlKFxuICAgICAgICAgICAgICAgIHsgX2lkOiBPYmplY3RJRChpZCkgfSxcbiAgICAgICAgICAgICAgICB7ICRzZXQ6IHsgaW5mbzogdXBkYXRlcyB9IH0sXG4gICAgICAgICAgICAgICAgeyByZXR1cm5PcmlnaW5hbDogZmFsc2UgfSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB7IGVtYWlsLCBpc1ZlcmlmaWVkLCBpbmZvIH0gPSByZXN1bHQudmFsdWU7XG5cbiAgICAgICAgICAgIGp3dC5zaWduKHsgaWQsIGVtYWlsLCBpc1ZlcmlmaWVkLCBpbmZvIH0sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMmQnIH0sIChlcnIsIHRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbiB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUYsT0FBQTtBQUF3QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLGdCQUFBQSxHQUFBO0FBQUEsU0FBQUUsbUJBQUFDLEdBQUEsRUFBQUMsT0FBQSxFQUFBQyxNQUFBLEVBQUFDLEtBQUEsRUFBQUMsTUFBQSxFQUFBQyxHQUFBLEVBQUFDLEdBQUEsY0FBQUMsSUFBQSxHQUFBUCxHQUFBLENBQUFLLEdBQUEsRUFBQUMsR0FBQSxPQUFBRSxLQUFBLEdBQUFELElBQUEsQ0FBQUMsS0FBQSxXQUFBQyxLQUFBLElBQUFQLE1BQUEsQ0FBQU8sS0FBQSxpQkFBQUYsSUFBQSxDQUFBRyxJQUFBLElBQUFULE9BQUEsQ0FBQU8sS0FBQSxZQUFBRyxPQUFBLENBQUFWLE9BQUEsQ0FBQU8sS0FBQSxFQUFBSSxJQUFBLENBQUFULEtBQUEsRUFBQUMsTUFBQTtBQUFBLFNBQUFTLGtCQUFBQyxFQUFBLDZCQUFBQyxJQUFBLFNBQUFDLElBQUEsR0FBQUMsU0FBQSxhQUFBTixPQUFBLFdBQUFWLE9BQUEsRUFBQUMsTUFBQSxRQUFBRixHQUFBLEdBQUFjLEVBQUEsQ0FBQUksS0FBQSxDQUFBSCxJQUFBLEVBQUFDLElBQUEsWUFBQWIsTUFBQUssS0FBQSxJQUFBVCxrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFBQSxFQUFBQyxLQUFBLEVBQUFDLE1BQUEsVUFBQUksS0FBQSxjQUFBSixPQUFBZSxHQUFBLElBQUFwQixrQkFBQSxDQUFBQyxHQUFBLEVBQUFDLE9BQUEsRUFBQUMsTUFB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","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_mongodb","_db","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","updateUserInfoRoute","path","method","handler","_handler","regeneratorRuntime","mark","_callee2","req","res","authorization","userId","updates","token","wrap","_callee2$","_context2","prev","next","headers","params","_ref","favoriteFood","hairColor","bio","body","abrupt","status","json","message","split","jwt","verify","process","env","JWT_SECRET","_ref2","_callee","decoded","id","db","result","_result$value","email","isVerified","_callee$","_context","getDbConnection","collection","findOneAndUpdate","_id","ObjectID","$set","returnOriginal","sent","sign","expiresIn","stop","_x3","_x4","_x","_x2","exports"],"sourceRoot":"D:\\CODEIT\\authfinishing\\back-end\\src\\routes\\","sources":["updateUserInfoRoute.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport { ObjectID } from 'mongodb';\nimport { getDbConnection } from '../db';\n\nexport const updateUserInfoRoute = {\n    path: '/api/users/:userId',\n    method: 'put',\n    handler: async (req, res) => {\n        const { authorization } = req.headers;\n        const { userId } = req.params;\n\n        const updates = (({\n            favoriteFood,\n            hairColor,\n            bio,\n        }) => ({\n            favoriteFood,\n            hairColor,\n            bio,\n        }))(req.body);\n\n        if (!authorization) {\n            return res.status(401).json({ message: 'No authorization header sent' });\n        }\n\n        const token = authorization.split(' ')[1];\n\n        jwt.verify(token, process.env.JWT_SECRET, async (err, decoded) => {\n            if (err) return res.status(401).json({ message: 'Unable to verify token' });\n\n            const { id } = decoded;\n\n            if (id !== userId) return res.status(403).json({ message: 'Not allowed to update that user\\'s data' });\n\n            // const db = getDbConnection('react-auth-db');\n        const db = getDbConnection();\n\n            const result = await db.collection('users').findOneAndUpdate(\n                { _id: ObjectID(id) },\n                { $set: { info: updates } },\n                { returnOriginal: false },\n            );\n            const { email, isVerified, info } = result.value;\n\n            jwt.sign({ id, email, isVerified, info }, process.env.JWT_SECRET, { expiresIn: '2d' }, (err, token) => {\n                if (err) {\n                    return res.status(200).json(err);\n                }\n                res.status(200).json({ token });\n            });\n        })\n    }\n}"],"mappings":"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"}},"mtime":1690745576469}}